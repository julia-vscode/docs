<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Debugging · Julia in VS Code</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Julia in VS Code</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../gettingstarted/">Getting Started</a></li><li><a class="tocitem" href="../../faq/">FAQ</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../runningcode/">Running Code</a></li><li><a class="tocitem" href="../keybindings/">Keybindings &amp; Commands</a></li><li><a class="tocitem" href="../env/">Julia Environments</a></li><li><a class="tocitem" href="../codenavigation/">Code Navigation</a></li><li><a class="tocitem" href="../editingcode/">Editing Code</a></li><li><a class="tocitem" href="../formatter/">Formatting Code</a></li><li><a class="tocitem" href="../plotgallery/">Plots</a></li><li><a class="tocitem" href="../grid/">Table Viewer</a></li><li><a class="tocitem" href="../linter/">Linter</a></li><li><a class="tocitem" href="../profiler/">Profiler</a></li><li class="is-active"><a class="tocitem" href>Debugging</a><ul class="internal"><li><a class="tocitem" href="#Example"><span>Example</span></a></li><li><a class="tocitem" href="#Settings-to-speed-up-the-debugger"><span>Settings to speed-up the debugger</span></a></li></ul></li><li><a class="tocitem" href="../compilesysimage/">Compiling Sysimages</a></li><li><a class="tocitem" href="../weave/">Julia Markdown Documents</a></li><li><a class="tocitem" href="../remote/">Remote Development</a></li><li><a class="tocitem" href="../testitems/">Test Item Framework</a></li></ul></li><li><a class="tocitem" href="../../changelog/">Change Log</a></li><li><span class="tocitem">Developer Documentation</span><ul><li><a class="tocitem" href="../../devdocs/devdocs/">Overview</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href>Debugging</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Debugging</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/julia-vscode/docs/blob/master/docs/src/userguide/debugging.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Debugging"><a class="docs-heading-anchor" href="#Debugging">Debugging</a><a id="Debugging-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging" title="Permalink"></a></h1><p>The Julia extension supports debugging of all types of Julia programs and applications.  </p><p>For general debugging features such as inspecting variables, setting breakpoints, and other activities that aren&#39;t language-dependent, review <a href="https://code.visualstudio.com/docs/editor/debugging">VS Code debugging</a>.  </p><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><ol><li>Open a Julia file in VS Code. </li><li>Click the <strong>Run</strong> button. You will now see the default debugger start panel:</li><li>Click <strong>Run and Debug</strong> (or select <code>F5</code>) to run the active Julia file in the debugger. Output is displayed in the Julia Debug terminal. </li></ol><p><img src="../../assets/debugger/3.png" alt="Debugger"/></p><p>In this example the whole program ran through in one go and finished without any problem. Lets make this example a bit more useful by setting a breakpoint on <code>line 11</code>. We do this by simple clicking with the mouse in the left most column of the code editor:</p><p><img src="../../assets/debugger/4.png" alt="Debugger"/></p><p>The red dot shows us that we have now set a breakpoint. Next we start the program again (either by clicking on <code>Run and Debug</code> or pressing <code>F5</code>). When the program reaches <code>line 11</code>, it will pause:</p><p><img src="../../assets/debugger/5.png" alt="Debugger"/></p><p>The yellow line shows us the location that we will execute next if we continue to run the program. We can also see where we are in the call stack and a list of all breakpoints. At the top of the text editor we now see a toolbar with commands for common debug actions: <code>Continue</code>, <code>Step over</code>, <code>Step Into</code>, <code>Step Out</code> etc. Lets click once on <code>Step Over</code> and then <code>Step Into</code>. We are now paused on the first line of the bar function:</p><p><img src="../../assets/debugger/6.png" alt="Debugger"/></p><p>The <code>Variables</code> view now shows us what local variables we have in this function and what their current values are. As we step through the program, and eventually reach the end of the bar function, the list of local variables gets longer, i.e. we now also see the values for <code>c</code> and <code>d</code>:</p><p><img src="../../assets/debugger/7.png" alt="Debugger"/></p><p>Let us set another breakpoint on <code>line 15</code> and then continue the program until it hits that breakpoint. Then we click on <code>Debug Console</code> and see a view like this:</p><p><img src="../../assets/debugger/8.png" alt="Debugger"/></p><p>In this view we can evaluate arbitrary Julia code in the context of the current function. For example, we can compute the log of x by running <code>log(x)</code> here:</p><p><img src="../../assets/debugger/10.png" alt="Debugger"/></p><p>We can also change the value of any local variable while the program is paused. For example, to change the value of x, we can double click in the <code>Variables</code> section on the value 27 next to x and then enter any arbitrary Julia expression. The value this expression returns will become the new value for the variable x. In the following example We changed the value of x to a string:</p><p><img src="../../assets/debugger/9.png" alt="Debugger"/></p><p>This concludes the very basic walk through. I’ll now want to highlight some other features.</p><h3 id="Ways-to-start-the-debugger"><a class="docs-heading-anchor" href="#Ways-to-start-the-debugger">Ways to start the debugger</a><a id="Ways-to-start-the-debugger-1"></a><a class="docs-heading-anchor-permalink" href="#Ways-to-start-the-debugger" title="Permalink"></a></h3><p>There are two different ways to start the debugger.</p><ul><li>The first you already learned in the walk through: you run a Julia file in the debugger.</li><li>The second allows you to debug code in the interactive REPL.</li></ul><h3 id="Running-Julia-files"><a class="docs-heading-anchor" href="#Running-Julia-files">Running Julia files</a><a id="Running-Julia-files-1"></a><a class="docs-heading-anchor-permalink" href="#Running-Julia-files" title="Permalink"></a></h3><p>In our example we started the currently active Julia file in the debugger. This is the most basic way to start debugging, but there are many more options that you can configure in a VS Code launch.json file. Examples include setting a fixed Julia file as the startup file, configuring command line arguments etc. The launch.json functionality is described in more detail in the VS Code debugger documentation.</p><h3 id="Debugging-code-from-the-REPL"><a class="docs-heading-anchor" href="#Debugging-code-from-the-REPL">Debugging code from the REPL</a><a id="Debugging-code-from-the-REPL-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging-code-from-the-REPL" title="Permalink"></a></h3><p>You can also start the debugger from the REPL. In that situation the debugger will attach to the already running REPL. To start such a debug session you use two macros in the REPL: the <code>@enter</code> and <code>@run</code> macro. Both are very simple: they will start the debugger on the code that was passed to the macro. The <code>@run</code> macro will run the code until a breakpoint is hit, while the <code>@enter</code> macro will pause the debugger on the first line of the code. For example, you can start debugging the println function from the REPL by entering <code>@enter println(&quot;Test&quot;)</code></p><h3 id="Breakpoints"><a class="docs-heading-anchor" href="#Breakpoints">Breakpoints</a><a id="Breakpoints-1"></a><a class="docs-heading-anchor-permalink" href="#Breakpoints" title="Permalink"></a></h3><p>You already learned how you can easily set breakpoints in the source code itself. There are two more options for breakpoints: function breakpoints and condition on breakpoints.</p><h3 id="Function-breakpoints"><a class="docs-heading-anchor" href="#Function-breakpoints">Function breakpoints</a><a id="Function-breakpoints-1"></a><a class="docs-heading-anchor-permalink" href="#Function-breakpoints" title="Permalink"></a></h3><p>If you click on the little <code>+</code> sign in the <code>BREAKPOINTS</code> view, you can add a function breakpoint. Simply enter the name of the function you want to break on. You can also configure it to only break on specific methods by specifying a signature like <code>foo(::String, ::Number)</code>.</p><h3 id="Breakpoint-conditions"><a class="docs-heading-anchor" href="#Breakpoint-conditions">Breakpoint conditions</a><a id="Breakpoint-conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Breakpoint-conditions" title="Permalink"></a></h3><p>If you click with the right mouse onto a breakpoint in the editor, you can select an option <code>Edit breakpoint...</code>, and then you can add a condition on the breakpoint. You can enter any valid Julia expression that returns a <code>Bool</code> value here. You have of course full access to all local variables in this expression.</p><h3 id="Variables-viewer"><a class="docs-heading-anchor" href="#Variables-viewer">Variables viewer</a><a id="Variables-viewer-1"></a><a class="docs-heading-anchor-permalink" href="#Variables-viewer" title="Permalink"></a></h3><p>Composite variables, arrays and dictionaries have full tree drill down support in the variables viewer:</p><p><img src="../../assets/debugger/11.png" alt="Debugger"/></p><h3 id="Watch-section"><a class="docs-heading-anchor" href="#Watch-section">Watch section</a><a id="Watch-section-1"></a><a class="docs-heading-anchor-permalink" href="#Watch-section" title="Permalink"></a></h3><p>The watch section allows you to enter arbitrary Julia expressions that are evaluated whenever the program pauses and the result is shown:</p><p><img src="../../assets/debugger/12.png" alt="Debugger"/></p><h3 id="Call-stack"><a class="docs-heading-anchor" href="#Call-stack">Call stack</a><a id="Call-stack-1"></a><a class="docs-heading-anchor-permalink" href="#Call-stack" title="Permalink"></a></h3><p>The call stack section allows you to look at the content of any stack frame, i.e. when you click on a different function there it will show the local variables for the selected stack frame. You can also restart code execution at any stack frame by clicking the small restart icon next to a given entry here:</p><p><img src="../../assets/debugger/13.png" alt="Debugger"/></p><p>Note that this last feature can be quite brittle, in particular if your functions modify any global state.</p><h3 id="Exceptions"><a class="docs-heading-anchor" href="#Exceptions">Exceptions</a><a id="Exceptions-1"></a><a class="docs-heading-anchor-permalink" href="#Exceptions" title="Permalink"></a></h3><p>If your code throws an exception, you get a nice exception view:</p><p>You can also configure the behavior of the debugger in the face of exceptions in the BREAKPOINTS part of the UI.</p><h3 id="Compile-mode"><a class="docs-heading-anchor" href="#Compile-mode">Compile mode</a><a id="Compile-mode-1"></a><a class="docs-heading-anchor-permalink" href="#Compile-mode" title="Permalink"></a></h3><p>The breakpoints view has another option called Enable compile mode:</p><p><img src="../../assets/debugger/14.png" alt="Debugger"/></p><p><strong>The functionality of this option is the following:</strong></p><p>If you select this option, breakpoints that are set in any function that is called from the current stack frame will no longer pause code execution. In our example, if you have paused in function foo and then select this option, a breakpoint in bar would no longer pause execution. Breakpoints in foo would still pause the debugger.</p><p><strong>Why would you ever want to use this feature?</strong></p><p>Your code will run a lot faster with this option enabled.</p><h3 id="Troubleshooting"><a class="docs-heading-anchor" href="#Troubleshooting">Troubleshooting</a><a id="Troubleshooting-1"></a><a class="docs-heading-anchor-permalink" href="#Troubleshooting" title="Permalink"></a></h3><p>If you encounter any issue when using the debugger, Please do let us know about it over at the <a href="https://github.com/julia-vscode/julia-vscode">Julia VS Code</a> repository.</p><h2 id="Settings-to-speed-up-the-debugger"><a class="docs-heading-anchor" href="#Settings-to-speed-up-the-debugger">Settings to speed-up the debugger</a><a id="Settings-to-speed-up-the-debugger-1"></a><a class="docs-heading-anchor-permalink" href="#Settings-to-speed-up-the-debugger" title="Permalink"></a></h2><h3 id="ALL_MODULES_EXCEPT_MAIN"><a class="docs-heading-anchor" href="#ALL_MODULES_EXCEPT_MAIN"><code>ALL_MODULES_EXCEPT_MAIN</code></a><a id="ALL_MODULES_EXCEPT_MAIN-1"></a><a class="docs-heading-anchor-permalink" href="#ALL_MODULES_EXCEPT_MAIN" title="Permalink"></a></h3><p>In order to make the debugger run faster we want to minimize the number of packages/modules which are interpreted. Let&#39;s say you need to debug the code you wrote, but also the functionality provided by the package Statistics.  Click on the Debugger Default Compiled extension setting.</p><p><img src="../../assets/debugger/16.png" alt="Debugger"/></p><p>Configure this setting as follows.</p><pre><code class="language-json hljs">&quot;julia.debuggerDefaultCompiled&quot;: [    
        &quot;ALL_MODULES_EXCEPT_MAIN&quot;,   
        &quot;-Statistics.&quot;,     
    ]</code></pre><p><code>ALL_MODULES_EXCEPT_MAIN</code> will make all modules run in compiled mode except the Main module, which contains the code you wrote. We also use &quot;-Statistics.&quot; to remove this module and all its submodules from the list of compiled modules, such that it will be interpreted. </p><h3 id="Use-a-custom-sys-image"><a class="docs-heading-anchor" href="#Use-a-custom-sys-image">Use a custom sys image</a><a id="Use-a-custom-sys-image-1"></a><a class="docs-heading-anchor-permalink" href="#Use-a-custom-sys-image" title="Permalink"></a></h3><p>Custom julia sys images can also be used when debugging. Go to julia-vscode extension settings and click to edit &quot;Additional Args&quot;. </p><p><img src="../../assets/debugger/17.png" alt="Debugger"/></p><p>Once in the settings, use &quot;-J&quot; option followed by your path to the custom sys image. Note this &quot;Additional Args&quot; settings are currently used only when debugging in the REPL mode, see the <code>@run</code> macron in the example bellow.</p><pre><code class="language-json hljs">&quot;julia.additionalArgs&quot;: [
        &quot;-JC:\\temp\\sys_custom.so&quot;,
    ],</code></pre><h3 id="Example-for-fast(er)-debugging"><a class="docs-heading-anchor" href="#Example-for-fast(er)-debugging">Example for fast(er) debugging</a><a id="Example-for-fast(er)-debugging-1"></a><a class="docs-heading-anchor-permalink" href="#Example-for-fast(er)-debugging" title="Permalink"></a></h3><p>In the following code we use the packages GLMakie and Statistics. GLMakie is a plotting package and it&#39;s known to have a pretty slow time-to-first-plot(TTFP), especially for julia versions older than 1.9. Interpretting GLMakie is definetely not a thing we want to do when debugging. With the settings above, GLMakie is set to run in compile mode and we also load it from the sys image. Make sure you use the <code>@run</code> macro with your root function and debugg in the REPL mode.</p><p><img src="../../assets/debugger/18.png" alt="Debugger"/></p><p>As the debugger hits the desired line of code we can step inside the <code>mean</code> function (Statistics) and debug there.</p><p><img src="../../assets/debugger/19.png" alt="Debugger"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../profiler/">« Profiler</a><a class="docs-footer-nextpage" href="../compilesysimage/">Compiling Sysimages »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 23 August 2024 01:07">Friday 23 August 2024</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
